<!DOCTYPE html><html><head><title>CSS in JavaScript is a horrible idea - Nathan Black</title><meta charset="utf-8"><meta name="description" content="A blog about modern web development, from front end to Node.js, JavaScript, styling, testing, and software development practices"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" href="/site.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400|Raleway|Nobile:400,700"></head><body><header><aside><a href="https://github.com/nathanboktae" class="github"></a><a href="https://plus.google.com/+NathanBlackJ" class="gplus"></a><a href="mailto:nathan@nathanblack.org" class="email"></a></aside><div class="logo"><img src="//gravatar.com/avatar/f78c2c988486648311bcf116070e2487.jpg?s=110"></div><h2><a href="/"><span class="name">nathanblack</span><span>.org</span></a></h2><h4>Refining Modern Web Development</h4></header><aside class="github"><h2><a href="https://github.com/nathanboktae"><b>@</b>nathanboktae</a></h2><ul data-bind="foreach: events" class="events"><li data-bind="attr: { class: type }"><span data-bind="text: when" class="date"></span><h3 data-bind="html: summary"></h3><p data-bind="text: $data.details"></p></li></ul></aside><article><span class="date">Sunday, October 8th 2017</span><section class="post"><h1>CSS in JavaScript is a horrible idea</h1><div class="content"><p>There is a lot of buzz around CSS in JS these days as Facebook champions it for React. There are some fundamental problems with this I would like to address.</p>
<p>Why were cascading style sheets created? Before them, all styles were inline. Remember when we had to write <code>&lt;table bgcolor=&quot;#ffde09&quot;&gt;...</code> and such? What happened when you wanted to change all your text colors? You had to find all the references manually and change them! A global file search and replace wasn&#39;t good enough as maybe this black was for a border instead of text... it was a nightmare.</p>
<p>Enter CSS. Now you could declare your text, fonts, margins and borders with a default global setting, and override them in specific circumstances as needed. <em>It&#39;s about design, not code</em>.</p>
<h3 id="design-and-users-love-consistency">Design and Users love consistency</h3>
<p>Good UX and design love consistency. Users get confused if a primary CTA button looks different on this page or component. Globals are good in design. They are not in code.</p>
<h3 id="styling-and-functionality-are-separate-concerns">Styling and functionality are separate concerns</h3>
<p>How a page or component looks and operates is wholly separate from how it functions. Your table grid shouldn&#39;t care about the font face, background, or cell spacing it has. It should care about how it wires up data and renders the contents, and providing a useful API. With clean, sematic HTML the user&#39;s existing design will simply <em>cascade</em> and inherit styles.</p>
<h3 id="css-is-a-layout-rules-engine-not-code">CSS is a layout rules engine, not code</h3>
<p>Many of the good software design principles don&#39;t apply to CSS because it&#39;s not code, but a layout engine. With a good DSL (see the next point) you can blend extra principles like composibility and refactoring in, but there is no high order functions, dependecy injection, visitor pattern, etc stuff to apply.</p>
<h3 id="mature-css-processors-have-been-addressing-limitations-in-css-for-years">Mature CSS Processors have been addressing limitations in CSS for years</h3>
<p>We&#39;ve had many successful years of using SASS, LESS, Stylus, and the new kid PostCSS. These great robust DSLs have many features and plugins to address whatever need the CSS-in-JS community thinks can&#39;t be solved. Let&#39;s <a href="https://speakerdeck.com/vjeux/react-css-in-js">go through them</a></p>
<ol>
<li><em>Global Namespace</em> I addressed why this is good for design and UX previously.</li>
<li><em>Dependencies</em>. Webpack users have been able to <code>require()</code> CSS dependencies and <a href="https://webpack.github.io/docs/stylesheets.html">bundle them together</a> for a long time.</li>
<li><em>Dead Code Elimination</em> Webpack 2+ <a href="https://webpack.js.org/guides/tree-shaking/">supports tree shaking</a> to elmitate dead CSS dependencies at the component level. Andy Osami shows how you can <a href="https://addyosmani.com/blog/removing-unused-css/">remove unused rules and add it to you build system</a>. The Chrome dev tools feature an <a href="http://meeech.amihod.com/very-useful-find-unused-css-rules-with-google/">Audit tab</a> that can reveal unused rules.</li>
<li><em>Minification</em> <a href="https://github.com/yui/yuicompressor">YUI compressor</a> has been around for years. Combined with gzip, HTTP2, and CDN caching, this is no reason at all to flip the table on everything. Performance is an ongoing arms race that <a href="http://stefankrause.net/js-frameworks-benchmark4/webdriver-ts/table.html">react is already loosing</a>.</li>
<li><em>Sharing Constants</em> I&#39;ve always created a <code>definitions.styl</code> that contained all my variables and mixins, and included it at every script. Very trivial.</li>
<li><em>Non-deterministic Resolution</em> Pure FUD. CSS Specificity is very deterministic. A great analogy to learn this was to <a href="https://www.smashingmagazine.com/2007/07/css-specificity-things-you-should-know/">compare it to poker</a>.</li>
<li><em>Isolation</em>. You can organize your stylesheets however you like and use <code>import</code> in CSS and <code>require()</code> from JavaScript via Webpack / browserify. Also putitng styling concerns in JavaScript creates higher coupling and <em>reduces</em> isolation.</li>
</ol>
<h3 id="fighting-against-web-standards-is-a-loosing-battle">Fighting against web standards is a loosing battle</h3>
<p>JavaScript frameworks come and go. CSS has been a standard since the dawn of the century. Want to integrate with that <a href="https://dbushell.com/Pikaday/">great datepicker written in plain JavaScript</a>? Well it uses classes (that you can read!) so you need CSS. Psuedoelements, psuedoclasses, CSS variables, and animations all require stylesheets.</p>
<h3 id="you-still-need-to-learn-css">You still need to learn CSS</h3>
<blockquote>
<p>When I&#39;m saying at scale, it means a codebase with hundreds of developers comming code everyday where most of them are not front-end developers</p>
</blockquote>
<p>There in lies your problem. It&#39;s a human and cultural problem you&#39;re trying to solve with technology. The nature of the web and browser, learning good UX patterns, learning how to layout a page and have it be responsive to dynamic content and varying screen sizes, to reconsicle a stateful UI running in an untrusted context with a stateless server API that runs in a trusted context, security attacks, expressing a design language in a semantic way that&#39;s maintainable, etc, etc, is not something that simply goes away. It must be learned to create amazing web experiences and iterate fast on them.</p>
<p>If you care about good a user experience, separation of concerns, and having a maintainable code base aligned with web standards, please, keep your styling in CSS.</p>
</div><ul class="tags"><li><a href="/tag/css">css</a></li><li><a href="/tag/react">react</a></li><li><a href="/tag/front-end">front-end</a></li></ul></section></article><script src="/site.js"></script></body></html>