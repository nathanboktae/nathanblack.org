<!DOCTYPE html><html><head><title>#npm - Nathan Black</title><meta charset="utf-8"><meta name="description" content="A blog about modern web development, from front end to Node.js, JavaScript, styling, testing, and software development practices"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" href="/site.b7837c4.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400|Raleway|Nobile:400,700"></head><body><header><aside><a href="https://github.com/nathanboktae" class="github"></a><a href="https://linkedin.com/in/nathanjblack" class="linkedin"></a><a href="mailto:nathan@nathanblack.org" class="email"></a></aside><div class="logo"><img src="//gravatar.com/avatar/f78c2c988486648311bcf116070e2487.jpg?s=110"></div><h2><a href="/"><span class="name">nathanblack</span><span>.org</span></a></h2><h4>Refining Modern Web Development</h4></header><aside class="github"><h2><a href="https://github.com/nathanboktae"><b>@</b>nathanboktae</a></h2><ul data-bind="foreach: events" class="events"><li data-bind="attr: { class: type }"><span data-bind="text: when" class="date"></span><h3 data-bind="html: summary"></h3><p data-bind="text: $data.details"></p></li></ul></aside><article><h2 class="tag">npm</h2><section class="post-summary"><span class="date">Sunday, June 1st 2014</span><h1><a href="/post/browserify-string-transforms-use-rfileify">Browserify string transforms: Use rfileify</a></h1><article><p>I started to use <a href="http://browserify.org/">browserify</a> for the first time day. It is quite slick - Just <code>npm install</code> something then <code>require</code> it up, with a lot less wiring up needed than using AMD. However adding a forced build step is not fun and I think would really be a killer on a big project.</p>
<p>So I began to look for a transform so I could include templates as I needed to bundle everything into one script. How hard can it be to basically do <code>&quot;module.exports = &quot; + JSON.stringify(fileContents)</code> ? Well after a couple hours of searching and trying 3 modules, the 4th one worked.</p>
<ul>
<li><a href="https://github.com/JohnPostlethwait/stringify">stringify</a> (no tests at all for this project)</li>
<li><a href="https://github.com/eugeneware/browserify-string">browserify-string</a> (tests but no CI)</li>
<li><a href="https://github.com/pluma/string-to-jsify">string-to-jsify</a> (test and CI but not for the console use case, the 95% one)</li>
<li><a href="https://github.com/ForbesLindesay/rfileify">rfileify</a> (tests, CI, and mentioned from <a href="https://github.com/benbria/browserify-transform-tools">browserify-transform-tools</a>)</li>
</ul>
<p>Rfileify does other transforms too, but just not the SEO rank, so hopefully I can help that.
</article><ul class="tags"><li><a href="/tag/browserify">browserify</a></li><li><a href="/tag/front-end">front-end</a></li><li><a href="/tag/npm">npm</a></li><li><a href="/tag/dependencies">dependencies</a></li></ul></section><section class="post-summary"><span class="date">Wednesday, May 28th 2014</span><h1><a href="/post/why-nodejs-is-awesome-part2-package-and-dependency-management">Why node.js is Awesome, Part 2: Package and Dependency Management</a></h1><article><p>At the core of node is npm, the node package manager (which apparently <a href="https://www.npmjs.org/doc/faq.html#If-npm-is-an-acronym-why-is-it-never-capitalized">npm doesn&#39;t stand for that</a>). Having dependencies managed by a package system is huge. In Java and .NET, package managers have been added after the fact, if they are used at all. Often people end up checking in binaries that then makes the repository huge with information not pertinent to your product, which also results in binary merge conflicts. How do those get organized? A legacy codebase I work on has them scattered throughout 3 different locations, not to mention naming styles.</p>
<p>Npm standardizes this by having all the dependencies in a folder named node_modules <a href="https://www.npmjs.org/doc/faq.html#node_modules-is-the-name-of-my-deity-s-arch-rival-and-a-Forbidden-Word-in-my-religion-Can-I-configure-npm-to-use-a-different-folder">which cannot be renamed</a> and a package.json that must be comformant too, which then node understands when you <code>require</code> something. No need to set classpaths or hint paths correctly. </p>
<p>This also heavily pushes people to have all their dependies locally. Its still possible to have a global module installed and require it without declaring it in your package.json (Maybe there is a way to prevent this via static analysis?) You can end up pulling assemblies from the GAC in .NET too, but still so many packages aren&#39;t installable via NuGet (I&#39;m looking at you Azure SDK, which of course the Azure SDK for Node.js installs via npm) which means every developer and the build server(s) better have the same versions installed or someone will be wasting time getting stuff to build.</p>
<p>Dependencies are also a tree structure, not a graph. If two modules depend on the same module, they each get their own copy, so they can have their own versions. This is great given <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain">prototypical inheritance</a>. If you want to be strict about the type of object you are working with, <code>instanceof</code> will only be true if your version of the module created the object, not another version , due to the constructor functions not being a reference to the same object. If you want to be lenient, you can always duck type it.</p>
<p>Statically typed languages have a graph of dependencies, and if A and B depend on different versions of C, pain will ensue. I gave seen .NET developers waste hours tracking down mismatching versions of dependencies, even with the help of assembly binding redirects. I don&#39;t think Java has any answer for this.
</article><ul class="tags"><li><a href="/tag/nodejs">nodejs</a></li><li><a href="/tag/npm">npm</a></li><li><a href="/tag/dependencies">dependencies</a></li></ul></section></article><script src="/site.b7837c4.js"></script></body></html>