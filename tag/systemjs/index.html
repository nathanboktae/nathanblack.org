<!DOCTYPE html><html><head><title>#systemjs - Nathan Black</title><meta charset="utf-8"><meta name="description" content="A blog about modern web development, from front end to Node.js, JavaScript, styling, testing, and software development practices"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" href="/site.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400|Raleway|Nobile:400,700"></head><body><header><aside><a href="https://github.com/nathanboktae" class="github"></a><a href="https://plus.google.com/+NathanBlackJ" class="gplus"></a><a href="mailto:nathan@nathanblack.org" class="email"></a></aside><div class="logo"><img src="//gravatar.com/avatar/f78c2c988486648311bcf116070e2487.jpg?s=110"></div><h2><a href="/"><span class="name">nathanblack</span><span>.org</span></a></h2><h4>Refining Modern Web Development</h4></header><aside class="github"><h2><a href="https://github.com/nathanboktae"><b>@</b>nathanboktae</a></h2><ul data-bind="foreach: events" class="events"><li data-bind="attr: { class: type }"><span data-bind="text: when" class="date"></span><h3 data-bind="html: summary"></h3><p data-bind="text: $data.details"></p></li></ul></aside><article><h2 class="tag">systemjs</h2><section class="post-summary"><span class="date">07/11/2015</span><h1><a href="/post/jspm-high-friction-package-management-avoid">jspm and systemjs: High friction package managment</a></h1><article><p>We have a decent-sized Angular codebase here at <a href="http://www.appuri.com/">Appuri</a> that I want to replace with real module system that will allow for a gradual move away from Angular. A friend recently pointed me to <a href="http://jspm.io/">jspm</a> and <a href="https://github.com/systemjs/systemjs">systemjs</a>. The goal and direction is sound - load any module format (AMD, CommonJS, Harmony/ES6) and be registry-agnostic (npm or GitHub is out of the box with registry plugins, namely for bower). Unlike bower, since the loader and the package manager work together, it maintains the mapping of modules that normally you do manually in <a href="http://requirejs.org/docs/api.html#config">the <code>map</code> and <code>paths</code> sections of your RequireJS main</a>. It also has a builder, so you can work in a mode that loads files individually, or bundle them up together for production, with source maps and minifcation. It also supports ES6 compiling to ES5 (or &quot;transpiling&quot; <a href="https://twitter.com/mraleph/status/471756991527124993">if you don&#39;t fully understand what compiling is</a>), so it is very future-standards focused. It&#39;s a superset of what I want from RequireJS, so I was excited and dove in.</p>
<p>Three days in, I&#39;m ready to throw in the towel as <a href="https://github.com/systemjs/builder/issues/223">I can&#39;t get SystemJS builder to work</a>. There are bigger issues too.</p>
<ol>
<li><h2 id="bower-should-be-a-first-class-registry">Bower should be a first class registry</h2>
<p>So jspm is registry agnostic, and it&#39;s registry providers built in are npm and GitHub. Why a GitHub provder instead of bower? It&#39;s so similar to bower, yet lacking too. They are both git based (well except these muts be in GitHub, damn your priviate or alternate git repo). It also ignores dependencies in the bower.json - which basically defeats the purpose of the package manager as you are now left to dealing with the dependecies yourself, manually editing your <code>config.js</code> - the thing that it&#39;s supposed to manage for you.</p>
<p>I started out simply using <code>jspm install angular</code>. Worked fine. Then trying to install angular plugins, they weren&#39;t in the registry. so I did them mangually via <code>jspm install github:somedude/angular-plugin</code>. However they would often just have a bower.json, so the dependency on angular wasn&#39;t declared. It was worse as I did <code>angular-chart</code>, which depends on <code>c3</code>, which then depends on <code>d3</code>.</p>
<p>Ugh. So I install <a href="https://www.npmjs.com/package/jspm-bower-endpoint">jspm-bower-endpoint</a> and run <code>jspm install bower:angular-chart</code>. cool.... wait, it depends on <code>bower:angular</code>, but I already have <code>github:angular</code> installed from the jspm registry... Ugh. <code>jspm uninstall</code> ALL the jspm packages and just use the bower registry, otherwise unless the jspm registry is 100% complete, you&#39;ll just have a mess to manually maintain. The same is true if you mixed and matched <code>npm</code> with <code>bower</code>, unless the dependencies didn&#39;t cross. BTW, you still need to have a <code>package.json</code> to get <code>jspm</code> down anyways.... so you have 2 package maangers. Actually, 2 package managers and a package manager registry wrapper.</p>
</li>
<li><h2 id="automatic-module-detection-really-does-not-work">Automatic module detection really does not work</h2>
 <span class="more"></span></article><ul class="tags"><li><a href="/tag/jspm">jspm</a></li><li><a href="/tag/systemjs">systemjs</a></li><li><a href="/tag/front-end">front-end</a></li><li><a href="/tag/package managers">package managers</a></li><li><a href="/tag/modules">modules</a></li></ul></section></article><script src="/site.js"></script></body></html>